<?php
/*
  Template name: pavilion
*/

get_header();

$bg_image = get_field('pavilion_hero_image');
$subtitle = get_field('pavilion_hero_subtitle');
$text = get_field('pavilion_hero_text');
$button = get_field('pavilion_hero_button');

get_banner('Homepage / Classic Auctions / Pavilion Gardens', esc_url($bg_image), 'Pavillion Gardens');
?>

<div class="pavilion_page">
  <div class="container">

    <section id="pavilionGardens" class="custom-carousel">
      <div id="pavilionSlider" class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            <?php if( have_rows('pavilion_slider') ): ?>
              <?php while( have_rows('pavilion_slider') ): the_row(); 
                $image = get_sub_field('pavilion_slider_image'); 
                if($image): ?>
                  <li class="splide__slide">
                    <div class="slide-wrapper">
                      <div class="slide-image-container">
                        <img src="<?php echo esc_url($image['url']); ?>" alt="<?php echo esc_attr($image['alt']); ?>">
                      </div>
                      <!-- Progress bar -->
                      <div class="my-progress">
                        <div class="my-progress-bar"></div>
                      </div>
                    </div>
                  </li>
                <?php endif; ?>
              <?php endwhile; ?>
            <?php endif; ?>
          </ul>
        </div>

        <div class="splide__arrows custom-arrows">
          <button class="splide__arrow splide__arrow--prev">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="26" viewBox="0 0 50 26" fill="none">
              <path d="M0 13H48M48 13L36 1M48 13L36 25" stroke="#8C6E47" stroke-width="2" />
            </svg>
          </button>
          <button class="splide__arrow splide__arrow--next">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="26" viewBox="0 0 50 26" fill="none">
              <path d="M0 13H48M48 13L36 1M48 13L36 25" stroke="#8C6E47" stroke-width="2" />
            </svg>
          </button>
        </div>
      </div>

      <?php 
      $slider_subtitle = get_field('slider_subtitle');
      if( $slider_subtitle ): ?>
        <h2><?php echo esc_html( $slider_subtitle ); ?></h2>
      <?php endif; ?>
    </section>

    <?php 
      $auctions_title   = get_field('auctions_title');
      $auctions_content = get_field('auctions_content');
      $auctions_link    = get_field('auctions_link');
    ?>

      <?php if( $auctions_title || $auctions_content || $auctions_link ): ?>
        <section class="auctions">
          <div class="auctions_container">

            <?php if( $auctions_title ): ?>
              <h2 class="auctions_container_title">
                <?php echo esc_html( $auctions_title ); ?>
              </h2>
            <?php endif; ?>

            <div class="auctions_container_content">
              <?php if( $auctions_content ): ?>
                <?php echo wp_kses_post( $auctions_content ); ?>
              <?php endif; ?>

              <?php if( $auctions_link ): ?>
                <a class="link_btn" href="<?php echo esc_url( $auctions_link['url'] ); ?>" 
                  <?php if( $auctions_link['target'] ) echo 'target="'. esc_attr( $auctions_link['target'] ) .'"'; ?>>
                  <span><?php echo esc_html( $auctions_link['title'] ); ?></span>
                  <img src="<?php echo IMG; ?>/arrow.svg" alt="">
                </a>
              <?php endif; ?>
            </div>
          </div>
        </section>
      <?php endif; ?>
  </div>
</div>
<?php get_template_part('inc/sections/cta'); ?>
<div class="pavilion_page">
  <div class="container">

    <?php 
      $consign_title     = get_field('consign_title');
      $consign_content_1 = get_field('consign_content_1');
      $consign_link      = get_field('consign_link');
      $consign_content_2 = get_field('consign_content_2');
    ?>

      <?php if( $consign_title || $consign_content_1 || $consign_link || $consign_content_2 ): ?>
      <section class="consign">
        
        <?php if( $consign_title ): ?>
          <h2><?php echo esc_html( $consign_title ); ?></h2>
        <?php endif; ?>

        <?php if( $consign_content_1 ): ?>
          <div class="consign-content">
            <?php echo wp_kses_post( $consign_content_1 ); ?>
          </div>
        <?php endif; ?>

        <?php if( $consign_link ): ?>
          <a href="<?php echo esc_url( $consign_link['url'] ); ?>"
            <?php if( $consign_link['target'] ) echo 'target="'. esc_attr( $consign_link['target'] ) .'"'; ?>>
            <?php echo esc_html( $consign_link['title'] ?: $consign_link['url'] ); ?>
          </a>
        <?php endif; ?>

        <?php if( $consign_content_2 ): ?>
          <div class="consign-content">
            <?php echo wp_kses_post( $consign_content_2 ); ?>
          </div>
        <?php endif; ?>

      </section>
    <?php endif; ?>


    <?php 
    $how_to_get_title = get_field('how_to_get_title');
    ?>

    <?php if( $how_to_get_title || have_rows('how_to_get_items') ): ?>
    <section class="how-to-get">
      
      <?php if( $how_to_get_title ): ?>
        <h2><?php echo esc_html( $how_to_get_title ); ?></h2>
      <?php endif; ?>

      <?php if( have_rows('how_to_get_items') ): ?>
        <?php while( have_rows('how_to_get_items') ): the_row(); 
          $subtitle   = get_sub_field('item_subtitle');
          $desc       = get_sub_field('item_description');
        ?>
          <?php if( $subtitle ): ?>
            <h3><?php echo esc_html( $subtitle ); ?></h3>
          <?php endif; ?>

          <?php if( $desc ): ?>
            <p><?php echo wp_kses_post( $desc ); ?></p>
          <?php endif; ?>

        <?php endwhile; ?>
      <?php endif; ?>

    </section>
    <?php endif; ?>


    <?php
      $map = get_field('pavilion_map_image');
    ?>

    <section class="pavilion_map">
      <div class="pavilion_map_container">
        <div id="map"></div>
      </div>
    </section>

    <section class="upcoming" id="upcoming-auctions">
      <?php get_template_part('inc/sections/upcoming'); ?>
    </section>
  </div>
</div>

<?php get_footer(); ?>

<script>
    (g => {
        var h, a, k, p = "The Google Maps JavaScript API",
            c = "google",
            l = "importLibrary",
            q = "__ib__",
            m = document,
            b = window;
        b = b[c] || (b[c] = {});
        var d = b.maps || (b.maps = {}),
            r = new Set,
            e = new URLSearchParams,
            u = () => h || (h = new Promise(async (f, n) => {
                await (a = m.createElement("script"));
                e.set("libraries", [...r] + "");
                for (k in g) e.set(k.replace(/[A-Z]/g, t => "_" + t[0].toLowerCase()), g[k]);
                e.set("callback", c + ".maps." + q);
                a.src = `https://maps.${c}apis.com/maps/api/js?` + e;
                d[q] = f;
                a.onerror = () => h = n(Error(p + " could not load."));
                a.nonce = m.querySelector("script[nonce]")?.nonce || "";
                m.head.append(a)
            }));
        d[l] ? console.warn(p + " only loads once. Ignoring:", g) : d[l] = (f, ...n) => r.add(f) && u().then(() => d[l](f, ...n))
    })
    ({
        key: "AIzaSyDm16PUTSAsojL7diI8zmW3Df2lYU2mqxQ",
        v: "weekly"
    });
</script>
<script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
<script>
    var locations = [{
      lat: 53.25643,
      lng: -1.91875
    }];

    async function initMap() {

        const {
            Map,
            InfoWindow
        } = await google.maps.importLibrary("maps");
        const {
            AdvancedMarkerElement
        } = await google.maps.importLibrary("marker");

        const position = {
          lat: 53.25643,
          lng: -1.91875
        };

        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 16,
            center: position,
            mapId: "efa54eadc0c22b2f",
            mapTypeControl: false,
            zoomControl: false,
            streetViewControl: false,
            fullscreenControl: false,
            rotateControl: false,
            scaleControl: false,
            panControl: false,
            clickableIcons: false,
            disableDefaultUI: true
        });

        const updateMarkerSize = () => {
            const isLargeScreen = window.matchMedia("(min-width: 1200px)").matches;
            return {
                width: isLargeScreen ? "7.118vw" : "82.5px",
                height: isLargeScreen ? "8.333vw" : "100px",
            };
        };

        const markers = locations.map((position, i) => {
            const markerElement = document.createElement("div");
            const markerSize = updateMarkerSize();
            markerElement.style.width = '48px';
            markerElement.style.height = '70px';
            markerElement.classList.add('markerElement');
            markerElement.innerHTML = '<svg width="48" height="70" viewBox="0 0 48 70" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.98" fill-rule="evenodd" clip-rule="evenodd" d="M12.565 50.6534C12.639 50.657 12.7527 50.677 12.8176 50.6988C12.8862 50.7207 12.9872 50.7752 13.0576 50.8279C13.1244 50.877 13.2236 50.9715 13.2795 51.0388C13.3355 51.1079 13.5267 51.3842 13.7072 51.6532C13.8858 51.9222 14.0662 52.2131 14.1041 52.2985C14.1636 52.4258 14.1781 52.4767 14.1853 52.5894C14.1907 52.7112 14.1871 52.7366 14.1402 52.8257C14.1077 52.8893 14.059 52.9493 14.0049 52.9893C13.958 53.0239 13.8605 53.0766 13.7884 53.1057C13.7162 53.1329 13.4293 53.2093 13.1514 53.2711C12.8736 53.3347 12.5326 53.4147 12.3936 53.4492C12.2547 53.4856 12.0274 53.5438 11.8884 53.5801C11.7495 53.6165 11.4897 53.6874 11.3111 53.7364C11.1324 53.7873 10.7878 53.8873 10.5442 53.9619C10.3007 54.0364 9.98131 54.1364 9.83155 54.1854C9.6836 54.2345 9.41115 54.3291 9.22712 54.3945C9.04308 54.4599 8.75981 54.5672 8.59562 54.6308C8.43143 54.6944 8.15176 54.809 7.97314 54.8835C7.79451 54.9598 7.48598 55.0962 7.28751 55.1889C7.08904 55.2798 6.78411 55.4288 6.6109 55.5197C6.43769 55.6106 6.17607 55.7542 6.02992 55.836C5.88197 55.9197 5.66365 56.0505 5.54276 56.1269C5.42007 56.2051 5.25949 56.3087 5.18552 56.3578C5.11154 56.4087 4.93652 56.5359 4.7976 56.6395C4.65867 56.745 4.45117 56.9086 4.3375 57.0049C4.22564 57.1012 4.02536 57.2867 3.89545 57.4157C3.76735 57.5466 3.59233 57.7393 3.50934 57.8429C3.42634 57.9484 3.30365 58.1156 3.23689 58.2156C3.17193 58.3156 3.0727 58.4919 3.01677 58.6064C2.96083 58.7209 2.89407 58.8809 2.86881 58.9609C2.84175 59.0409 2.80747 59.1718 2.78943 59.2517C2.76597 59.3608 2.75875 59.479 2.76056 59.7335C2.76236 60.0134 2.76777 60.097 2.80025 60.2279C2.8219 60.317 2.86881 60.4679 2.9049 60.5642C2.94099 60.6624 3.00594 60.8114 3.05105 60.8969C3.09615 60.9823 3.19178 61.1405 3.26395 61.2514C3.33793 61.3623 3.46603 61.5331 3.54903 61.6331C3.63383 61.7331 3.82689 61.9367 3.97845 62.0876C4.13181 62.2366 4.35374 62.4384 4.47282 62.5348C4.59191 62.6311 4.81203 62.7983 4.95998 62.9056C5.10974 63.0128 5.32805 63.1619 5.44714 63.2383C5.56622 63.3146 5.81702 63.4655 6.00647 63.5727C6.19592 63.6818 6.56038 63.8763 6.8184 64.0054C7.07641 64.1344 7.46252 64.3162 7.67543 64.4108C7.88834 64.5053 8.21672 64.6434 8.40617 64.7198C8.59562 64.7943 8.89513 64.9088 9.07375 64.9743C9.25238 65.0397 9.53204 65.1379 9.69623 65.1924C9.86042 65.2488 10.0715 65.3179 10.1653 65.3488C10.2592 65.3778 10.5154 65.456 10.7337 65.5196C10.952 65.5851 11.2209 65.6632 11.3291 65.6923C11.4374 65.7232 11.625 65.7741 11.7441 65.8069C11.8632 65.8378 12.1031 65.8977 12.2764 65.9414C12.4496 65.985 12.7419 66.0541 12.9259 66.0959C13.1099 66.1377 13.3084 66.1831 13.368 66.1959C13.4275 66.2104 13.6801 66.2613 13.9273 66.3122C14.1763 66.3613 14.5858 66.4395 14.8384 66.4849C15.091 66.5322 15.4284 66.5885 15.5872 66.614C15.746 66.6394 16.0744 66.6885 16.318 66.7249C16.5615 66.7594 16.8177 66.7958 16.8863 66.8048C16.9549 66.8139 17.1389 66.8376 17.2923 66.8576C17.4456 66.8776 17.7253 66.9103 17.9148 66.9321C18.1042 66.9521 18.3388 66.9775 18.438 66.9866C18.5372 66.9975 18.862 67.0266 19.1597 67.0521C19.4574 67.0757 19.9771 67.1139 20.3145 67.1321C20.6519 67.1521 21.1589 67.1811 21.4421 67.1975C21.8734 67.2211 22.3046 67.2248 24.0944 67.2157C25.2708 67.212 26.3372 67.1993 26.4671 67.1884C26.597 67.1793 26.9362 67.1575 27.2249 67.143C27.5136 67.1266 27.7968 67.1102 27.8564 67.1048C27.9159 67.0993 28.1505 67.0793 28.3796 67.0593C28.6088 67.0375 29.0418 66.9975 29.3449 66.9666C29.648 66.9375 30.0341 66.8957 30.2019 66.8757C30.3697 66.8557 30.6873 66.8158 30.9056 66.7848C31.1239 66.7558 31.5227 66.6976 31.7897 66.6576C32.0567 66.6176 32.4356 66.5558 32.6287 66.5213C32.8218 66.4885 33.0689 66.4431 33.179 66.4213C33.2891 66.4013 33.5525 66.3486 33.7654 66.3049C33.9783 66.2613 34.2706 66.1995 34.4149 66.1686C34.5593 66.1377 34.7812 66.0886 34.9111 66.0577C35.041 66.0268 35.3405 65.9541 35.5787 65.8941C35.8169 65.8341 36.0893 65.765 36.1831 65.7396C36.277 65.7141 36.4971 65.6523 36.6703 65.6033C36.8435 65.5524 37.0672 65.4869 37.1665 65.4578C37.2657 65.4269 37.4858 65.3578 37.6536 65.3015C37.8214 65.247 38.1426 65.1361 38.3663 65.0561C38.5901 64.9761 38.886 64.8652 39.0249 64.8107C39.1638 64.7561 39.3749 64.6725 39.494 64.6234C39.6131 64.5744 39.8657 64.4653 40.0533 64.3817C40.241 64.2962 40.5297 64.1617 40.6939 64.0835C40.858 64.0036 41.1251 63.8672 41.2893 63.7782C41.4535 63.6909 41.6844 63.5618 41.8035 63.4909C41.9226 63.42 42.0777 63.3273 42.1463 63.2819C42.2149 63.2364 42.37 63.1346 42.4891 63.0547C42.6082 62.9747 42.794 62.842 42.9041 62.7602C43.0142 62.6784 43.2 62.5293 43.3191 62.4293C43.4382 62.3293 43.6294 62.153 43.7431 62.0385C43.8568 61.924 44.0192 61.7495 44.1022 61.6513C44.1833 61.5513 44.3024 61.395 44.3656 61.3059C44.4269 61.2168 44.5189 61.0678 44.5677 60.9787C44.6164 60.8896 44.6885 60.7406 44.7264 60.6515C44.7643 60.5624 44.8203 60.3933 44.8491 60.2788C44.8997 60.0843 44.9033 60.0461 44.9051 59.7335C44.9069 59.4426 44.9015 59.3717 44.8636 59.2063C44.8401 59.1009 44.7932 58.9409 44.7589 58.8518C44.7246 58.7627 44.6525 58.6028 44.5965 58.4973C44.5424 58.3919 44.4504 58.2374 44.3908 58.152C44.3331 58.0665 44.2303 57.9284 44.1635 57.8429C44.0967 57.7575 43.9307 57.5775 43.7972 57.4412C43.6637 57.3067 43.4526 57.1085 43.3281 57.0049C43.2036 56.8995 43.0051 56.7395 42.8861 56.6486C42.767 56.5595 42.5848 56.4287 42.4801 56.3578C42.3755 56.2869 42.2059 56.176 42.1012 56.1124C41.9966 56.0469 41.7945 55.9269 41.6501 55.8433C41.5058 55.7615 41.1864 55.5888 40.9374 55.4634C40.6903 55.3361 40.3727 55.1798 40.2338 55.118C40.0948 55.0544 39.8152 54.9344 39.6113 54.849C39.4074 54.7635 39.1115 54.6454 38.9527 54.5854C38.7939 54.5254 38.5504 54.4363 38.4114 54.3854C38.2725 54.3363 38.0416 54.2545 37.8972 54.2073C37.7529 54.1582 37.5382 54.0891 37.4191 54.0527C37.3 54.0146 37.1214 53.9619 37.0221 53.931C36.9229 53.9019 36.7731 53.8564 36.6883 53.831C36.6035 53.8055 36.3149 53.7255 36.0478 53.6528C35.7808 53.5801 35.3243 53.4656 35.0374 53.3983C34.7505 53.3311 34.3843 53.2456 34.2255 53.2075C34.0126 53.1547 33.8971 53.1166 33.7852 53.0584C33.6589 52.9929 33.6211 52.9639 33.5615 52.8802C33.511 52.8075 33.4893 52.7566 33.4821 52.6894C33.4767 52.6385 33.4821 52.553 33.493 52.4985C33.5056 52.444 33.5435 52.3367 33.5796 52.2622C33.6156 52.1876 33.7762 51.9295 33.935 51.6896C34.0956 51.4496 34.2796 51.1824 34.3464 51.0988C34.4131 51.0133 34.5106 50.9079 34.5629 50.8643C34.6152 50.8206 34.7072 50.7606 34.7668 50.7334C34.8299 50.7025 34.9364 50.6716 35.0194 50.6607C35.1385 50.6425 35.198 50.6443 35.3532 50.6679C35.4578 50.6825 35.6689 50.7261 35.8223 50.7625C35.9757 50.8006 36.2607 50.8715 36.4538 50.9206C36.6468 50.9697 36.9806 51.0606 37.1935 51.1206C37.4065 51.1806 37.715 51.2696 37.8792 51.3187C38.0434 51.3696 38.3519 51.4678 38.5648 51.5369C38.7777 51.6078 39.1025 51.7186 39.2865 51.7841C39.4706 51.8495 39.7701 51.9586 39.9541 52.0295C40.1381 52.0986 40.4268 52.2131 40.5946 52.284C40.7624 52.3531 40.9591 52.4367 41.0277 52.4658C41.0962 52.4967 41.2875 52.5821 41.4517 52.6566C41.6158 52.7312 41.9442 52.8911 42.1824 53.0111C42.4206 53.1311 42.7453 53.3038 42.9041 53.3947C43.0629 53.4838 43.3029 53.6256 43.4364 53.7074C43.5699 53.7892 43.7738 53.9164 43.8874 53.9909C44.0011 54.0655 44.1833 54.1927 44.2934 54.2709C44.4035 54.349 44.6019 54.4999 44.7355 54.6054C44.869 54.7108 45.0638 54.8708 45.1685 54.9598C45.2731 55.0507 45.4788 55.2434 45.6268 55.3889C45.7729 55.5343 45.9804 55.7506 46.0869 55.8724C46.1915 55.9924 46.3485 56.1851 46.4333 56.2996C46.5181 56.4141 46.6318 56.5723 46.6859 56.6522C46.7418 56.7322 46.8356 56.8795 46.8952 56.9795C46.9547 57.0794 47.0504 57.2539 47.1063 57.3648C47.1622 57.4775 47.247 57.6702 47.2957 57.792C47.3445 57.9156 47.404 58.0847 47.4293 58.1701C47.4563 58.2556 47.4924 58.3865 47.5123 58.461C47.5303 58.5355 47.5592 58.6628 47.5754 58.7428C47.5916 58.8227 47.6151 58.9827 47.6295 59.0972C47.644 59.2118 47.662 59.4208 47.6674 59.5608C47.6746 59.7026 47.671 59.928 47.6602 60.0698C47.6494 60.2097 47.6241 60.4224 47.6043 60.5424C47.5826 60.6624 47.5465 60.8387 47.5231 60.9332C47.4996 61.0278 47.4437 61.2114 47.4004 61.3423C47.3553 61.4731 47.2777 61.6767 47.2272 61.7967C47.1749 61.9167 47.0792 62.113 47.0143 62.233C46.9493 62.353 46.8501 62.5257 46.7923 62.6147C46.7364 62.7038 46.6173 62.8801 46.5271 63.0056C46.4369 63.131 46.3088 63.2982 46.242 63.3782C46.1771 63.4582 46.0273 63.6255 45.9101 63.7509C45.7928 63.8763 45.6015 64.0672 45.4824 64.1781C45.3633 64.289 45.2334 64.4071 45.1956 64.4417C45.1559 64.4762 45.0584 64.5598 44.979 64.6253C44.8997 64.6907 44.7138 64.838 44.5641 64.9507C44.4161 65.0634 44.131 65.2633 43.9326 65.396C43.7341 65.5287 43.4418 65.7141 43.283 65.8105C43.1242 65.905 42.8644 66.0541 42.7056 66.1413C42.5469 66.2286 42.2311 66.3922 42.002 66.5049C41.7728 66.6176 41.5022 66.7485 41.3975 66.7958C41.2929 66.843 41.1269 66.9157 41.0277 66.9594C40.9284 67.003 40.7173 67.0903 40.5585 67.1557C40.3998 67.2211 40.1147 67.3338 39.927 67.4047C39.7394 67.4774 39.4453 67.5847 39.2775 67.6447C39.1097 67.7047 38.8607 67.7901 38.7272 67.8356C38.5937 67.8792 38.3176 67.9683 38.1137 68.0319C37.9098 68.0955 37.5742 68.1973 37.365 68.2573C37.1557 68.3173 36.7948 68.4154 36.562 68.4754C36.3293 68.5354 35.9432 68.63 35.705 68.6863C35.4668 68.7427 35.1258 68.819 34.9472 68.859C34.7686 68.8972 34.5773 68.9372 34.5232 68.9481C34.4691 68.9572 34.2129 69.0081 33.9548 69.059C33.6968 69.1099 33.3071 69.1844 33.0888 69.2244C32.8705 69.2644 32.5096 69.3244 32.2859 69.3589C32.0622 69.3916 31.7338 69.4407 31.5552 69.4662C31.3765 69.4916 31.0716 69.5334 30.8785 69.557C30.6855 69.5825 30.3409 69.6243 30.1117 69.6498C29.8826 69.6752 29.538 69.7116 29.3449 69.7297C29.1518 69.7497 28.8271 69.7788 28.6232 69.7934C28.4193 69.8097 28.0819 69.8352 27.8744 69.8497C27.6669 69.8643 27.3043 69.8897 27.0715 69.9043C26.8387 69.917 26.339 69.9388 25.9619 69.9497C25.5848 69.9606 25.0417 69.9788 24.753 69.9897C24.4535 70.0006 23.9411 70.0042 23.5531 69.9988C23.1815 69.9933 22.3894 69.9715 21.794 69.9515C21.1986 69.9297 20.5977 69.9061 20.4588 69.8952C20.3199 69.8861 19.9662 69.8606 19.6739 69.8406C19.3816 69.8206 18.9594 69.7879 18.7357 69.7679C18.512 69.7479 18.2034 69.7188 18.0501 69.7025C17.8967 69.6879 17.5954 69.6552 17.3825 69.6298C17.1696 69.6043 16.8159 69.5607 16.5976 69.5298C16.3793 69.5007 15.9535 69.4389 15.6504 69.3953C15.3473 69.3516 14.9539 69.2898 14.7753 69.2589C14.5967 69.228 14.2521 69.1662 14.0085 69.1208C13.7649 69.0753 13.4491 69.0153 13.3048 68.9862C13.1605 68.9572 12.9295 68.9081 12.7906 68.879C12.6517 68.8499 12.3756 68.7881 12.1771 68.7408C11.9787 68.6954 11.6214 68.6081 11.3832 68.5481C11.1451 68.4863 10.7878 68.3918 10.5894 68.3373C10.3909 68.2827 10.0408 68.1828 9.81351 68.1137C9.58617 68.0446 9.15855 67.9065 8.86626 67.8083C8.57397 67.7083 8.18424 67.572 8.0002 67.5047C7.81616 67.4375 7.53289 67.3284 7.3687 67.2648C7.20451 67.1993 6.95732 67.0975 6.8184 67.0375C6.67947 66.9775 6.40341 66.8539 6.20494 66.763C6.00647 66.6721 5.66546 66.5067 5.44714 66.3958C5.22882 66.2831 4.88781 66.0995 4.68934 65.9868C4.49087 65.8741 4.23105 65.7196 4.11197 65.6451C3.99288 65.5705 3.78539 65.436 3.65187 65.3451C3.51836 65.2542 3.29823 65.0997 3.16472 64.9997C3.0312 64.8998 2.85618 64.7634 2.7768 64.698C2.69741 64.6325 2.54765 64.5053 2.443 64.4162C2.33835 64.3253 2.11101 64.109 1.9378 63.9345C1.76279 63.7582 1.54266 63.52 1.44884 63.4055C1.35321 63.291 1.20707 63.1019 1.12587 62.9874C1.04288 62.8729 0.918382 62.6893 0.849819 62.5784C0.781256 62.4675 0.66939 62.273 0.604436 62.1421C0.537677 62.0112 0.445658 61.8167 0.400551 61.7058C0.355444 61.5949 0.285077 61.4041 0.243579 61.2786C0.203884 61.1532 0.149756 60.966 0.1263 60.8605C0.10104 60.7551 0.0631498 60.5515 0.0414983 60.4061C0.00721692 60.1861 0 60.0698 0 59.7062C0 59.3845 0.0090212 59.2154 0.0324769 59.0609C0.0487155 58.9464 0.0848015 58.7573 0.110062 58.6428C0.135322 58.5283 0.182233 58.341 0.216514 58.2283C0.250796 58.1174 0.319359 57.9211 0.369879 57.792C0.420399 57.6648 0.519634 57.4466 0.591806 57.3067C0.662173 57.1667 0.790277 56.9431 0.873274 56.8104C0.958076 56.6759 1.0952 56.4759 1.18 56.3614C1.2648 56.2487 1.42358 56.0505 1.53545 55.9233C1.64551 55.7942 1.86383 55.5615 2.0226 55.407C2.17958 55.2525 2.40511 55.0398 2.5242 54.9362C2.64328 54.8326 2.88325 54.6399 3.05646 54.509C3.22967 54.3781 3.44979 54.2164 3.54362 54.1491C3.63744 54.0836 3.85756 53.94 4.03077 53.831C4.20399 53.7219 4.47643 53.5583 4.63521 53.4674C4.79399 53.3765 5.04659 53.2384 5.19454 53.1584C5.34429 53.0802 5.58787 52.9548 5.73582 52.8821C5.88558 52.8075 6.1039 52.7039 6.22298 52.6494C6.34206 52.5948 6.54956 52.5021 6.68307 52.444C6.81659 52.3858 7.0728 52.2804 7.25142 52.2076C7.43005 52.1349 7.7061 52.0277 7.86488 51.9677C8.02366 51.9077 8.41338 51.7695 8.73094 51.6623C9.04849 51.5532 9.51219 51.4023 9.75938 51.3278C10.0084 51.2533 10.4179 51.1351 10.6705 51.0642C10.9231 50.9952 11.293 50.897 11.4915 50.8461C11.69 50.797 11.9534 50.7352 12.0779 50.7098C12.2024 50.6843 12.3323 50.6607 12.3666 50.6552C12.4009 50.6516 12.4911 50.6498 12.565 50.6534Z" fill="#8C6E47"/<path d="M0 25C0 11.1929 10.7452 0 24 0C37.2548 0 48 11.1929 48 25C48 36.5225 40.5166 46.2243 30.3363 49.1195L24.8824 59.3456C24.5059 60.0515 23.4941 60.0515 23.1176 59.3456L17.6637 49.1195C7.48342 46.2243 0 36.5225 0 25Z" fill="#8C6E47"/><mask id="mask0_1553_27898" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="5" y="6" width="38" height="38"><circle cx="24" cy="25" r="19" fill="#D9D9D9"/></mask><g mask="url(#mask0_1553_27898)"><path d="M25.2667 14.0469V6H29.7373V14.0469H25.2667Z" fill="8C6E47"/><path d="M17.8157 14.0469V6H22.2863V14.0469H17.8157Z" fill="8C6E47"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.68237 17.0273H12.1657V23.5972H17.8157V17.0273H22.2863V32.8231H17.8157V26.272H12.1657L12.153 32.8235L7.68237 32.8231V17.0273ZM19.7173 26.0456H20.2666L20.4465 25.5013H21.3219L21.5014 26.0456H22.0507L21.2149 23.6586H20.5543L19.7173 26.0456ZM21.192 25.1074L20.8941 24.2041H20.8751L20.5767 25.1074H21.192Z" fill="8C6E47"/><path fill-rule="evenodd" clip-rule="evenodd" d="M25.2667 17.0273V32.8231H29.7373V26.3078L35.4 26.2663V32.8231H39.8706V17.0273H35.4V23.584H29.7373V17.0273H25.2667ZM25.6608 26.0324H26.5203C26.7666 26.0324 26.9781 25.9847 27.1549 25.8891C27.3325 25.7935 27.4686 25.6564 27.5633 25.4776C27.6588 25.2989 27.7066 25.0852 27.7066 24.8366C27.7066 24.5887 27.6588 24.3758 27.5633 24.1979C27.4686 24.0199 27.3333 23.8836 27.1572 23.7888C26.9812 23.6932 26.7713 23.6454 26.5274 23.6454H25.6608V26.0324ZM26.1735 25.6H26.499C26.6506 25.6 26.778 25.5736 26.8814 25.5208C26.9856 25.4672 27.0637 25.3844 27.1158 25.2725C27.1687 25.1598 27.1951 25.0145 27.1951 24.8366C27.1951 24.6602 27.1687 24.5161 27.1158 24.4042C27.0637 24.2923 26.986 24.2099 26.8826 24.1571C26.7792 24.1043 26.6517 24.0778 26.5002 24.0778H26.1735V25.6Z" fill="8C6E47"/><path d="M24.8039 23.6454V26.0324H24.3611L23.3063 24.5301H23.2886V26.0324H22.7759V23.6454H23.2258L24.2724 25.1466H24.2937V23.6454H24.8039Z" fill="8C6E47"/><path d="M25.2667 43.9999V35.9529H29.7373V43.9999H25.2667Z" fill="8C6E47"/><path d="M17.8157 43.9999V35.9529H22.2863V43.9999H17.8157Z" fill="8C6E47"/></g></svg>';

            const marker = new google.maps.marker.AdvancedMarkerElement({
                position,
                content: markerElement,
            });

            return marker;
        });

        const markerCluster = new markerClusterer.MarkerClusterer({
            markers,
            map
        });

        window.addEventListener("resize", () => {
            markers.forEach((marker) => {
                const markerSize = updateMarkerSize();
                marker.content.style.width = markerSize.width;
                marker.content.style.height = markerSize.height;
            });
        });
    }
    window.onload = initMap;
</script>